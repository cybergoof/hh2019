<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>Smart Braces Terminal &#8211; HolidayHack 2018 Solutions</title> <meta name="description" content="This is the solutions for the HH2018."> <meta name="keywords" content="sample post, readability, test"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="Smart Braces Terminal"> <meta name="twitter:description" content="Kent Tinseltooth wants help with his terminal. Kent TerminalLooks like there is an “inner voice”. And we need to block it out with an IPTables change.looking in the current directory, there is an MD file that has some information about the challenge IOTteethBraces.mdIt supports FTP, HTTP and SSH access. The requirement is to configure properly.The requirements to setup IP Tables isA proper configuration for the Smart Braces should be exactly: Set the default policies to DROP for the INPUT, FORWARD, and OUTPUT chains.sudo iptables -P FORWARD DROPsudo iptables -P INPUT DROPsudo iptables -P OUTPUT DROP Create a rule to ACCEPT all connections that are ESTABLISHED,RELATED on the INPUT and the OUTPUT chains.sudo iptables -A INPUT,OUTPUT -m conntrack –ctstate ESTABLISHED,RELATED -j ACCEPT Create a rule to ACCEPT only remote source IP address 172.19.0.225 to access the local SSH server (on port 22). That IP address resolves to elfuiotbracesiptables_checker.iptablesnetwork sudo iptables -A INPUT -p tcp –dport 22 -s 172.19.0.225 -j ACCEPT Create a rule to ACCEPT any source IP to the local TCP services on ports 21 and 80.sudo iptables -A INPUT -p tcp –dport 21,80 -j ACCEPT Create a rule to ACCEPT all OUTPUT traffic with a destination TCP port of 80.sudo iptables -A OUTPUT -p tcp –dport 80 -j ACCEPT Create a rule applied to the INPUT chain to ACCEPT all traffic from the lo interface.iptables -A INPUT -o lo -j ACCEPTsudo iptables -A INPUT -m conntrack –ctstate RELATED,ESTABLISHED -j ACCEPTsudo iptables -A OUTPUT -m conntrack –ctstate RELATED,ESTABLISHED -j ACCEPTsudo iptables -P FORWARD DROPsudo iptables -P INPUT DROPsudo iptables -P OUTPUT DROPsudo iptables -A INPUT -p tcp –dport 22 -s 172.19.0.225 -j ACCEPTsudo iptables -A INPUT -p tcp -m multiport –dports 21,80 -j ACCEPTsudo iptables -A OUTPUT -p tcp –dport 80 -j ACCEPTsudo iptables -A INPUT -i lo -j ACCEPTIt worked. It is hardened. IOTteethBraces.mdKent says that the “sleigh device” is being tested at srf.elfu.org with default credsKent’s hint is to get into the crate in the Student Union"> <meta name="twitter:site" content="@thecybergoof"> <meta name="twitter:creator" content="@thecybergoof"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Smart Braces Terminal"> <meta property="og:description" content="Kent Tinseltooth wants help with his terminal. Kent TerminalLooks like there is an “inner voice”. And we need to block it out with an IPTables change.looking in the current directory, there is an MD file that has some information about the challenge IOTteethBraces.mdIt supports FTP, HTTP and SSH access. The requirement is to configure properly.The requirements to setup IP Tables isA proper configuration for the Smart Braces should be exactly: Set the default policies to DROP for the INPUT, FORWARD, and OUTPUT chains.sudo iptables -P FORWARD DROPsudo iptables -P INPUT DROPsudo iptables -P OUTPUT DROP Create a rule to ACCEPT all connections that are ESTABLISHED,RELATED on the INPUT and the OUTPUT chains.sudo iptables -A INPUT,OUTPUT -m conntrack –ctstate ESTABLISHED,RELATED -j ACCEPT Create a rule to ACCEPT only remote source IP address 172.19.0.225 to access the local SSH server (on port 22). That IP address resolves to elfuiotbracesiptables_checker.iptablesnetwork sudo iptables -A INPUT -p tcp –dport 22 -s 172.19.0.225 -j ACCEPT Create a rule to ACCEPT any source IP to the local TCP services on ports 21 and 80.sudo iptables -A INPUT -p tcp –dport 21,80 -j ACCEPT Create a rule to ACCEPT all OUTPUT traffic with a destination TCP port of 80.sudo iptables -A OUTPUT -p tcp –dport 80 -j ACCEPT Create a rule applied to the INPUT chain to ACCEPT all traffic from the lo interface.iptables -A INPUT -o lo -j ACCEPTsudo iptables -A INPUT -m conntrack –ctstate RELATED,ESTABLISHED -j ACCEPTsudo iptables -A OUTPUT -m conntrack –ctstate RELATED,ESTABLISHED -j ACCEPTsudo iptables -P FORWARD DROPsudo iptables -P INPUT DROPsudo iptables -P OUTPUT DROPsudo iptables -A INPUT -p tcp –dport 22 -s 172.19.0.225 -j ACCEPTsudo iptables -A INPUT -p tcp -m multiport –dports 21,80 -j ACCEPTsudo iptables -A OUTPUT -p tcp –dport 80 -j ACCEPTsudo iptables -A INPUT -i lo -j ACCEPTIt worked. It is hardened. IOTteethBraces.mdKent says that the “sleigh device” is being tested at srf.elfu.org with default credsKent’s hint is to get into the crate in the Student Union"> <meta property="og:url" content="http://localhost:4000/elves/kent/"> <meta property="og:site_name" content="HolidayHack 2018 Solutions"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/elves/kent/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="HolidayHack 2018 Solutions Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <link rel="stylesheet" href="http://localhost:4000/assets/css/hh2018.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/santa-claus-hat-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/santa-claus-hat-114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/santa-claus-hat-144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css"> body { background-image:url(http://localhost:4000/assets/img/home-kringlecon.jpg); { % unless site.tiled_bg % } background-repeat: no-repeat; background-size: cover; { % endunless % } } </style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="HolidayHack 2018 Solutions photo" class="author-photo"> <h4>HolidayHack 2018 Solutions</h4> <p>This is the solutions for the HH2018.</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="http://twitter.com/thecybergoof" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a> </li> <li> <a href="http://linkedin.com/in/cybergoof" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="http://github.com/cybergoof" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://stackoverflow.com/users/3734935/cybergoof" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-stack-overflow"></i> StackOverflow</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="http://localhost:4000/objectives/">Objectives</a> </li> <li> <a href="http://localhost:4000/elves/">Elf Terminals</a> </li> <li><a href="http://localhost:4000/projects/" >Projects</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Kent Tinseltooth: Smart Braces Terminal</h1> <img src="/assets/img/elves/kent/avatar.png"> <div class="PageNavigation"> <a class="prev" href="/elves/hollyevergreen/">&laquo; Mongo Pilfer</a> <a class="next" href="/elves/krampus/">Frido Sleigh &raquo;</a> </div> </div> <h2>The Elf's Request</h2> <figure> <img src="/assets/img/elves/kent/question.png"> <figcaption>The Elf Request</figcaption> </figure> <h2>The Terminal Riddle</h2> <figure> <img src="/assets/img/elves/kent/riddle.png"> <figcaption>The Terminal Riddle</figcaption> </figure> <h2>The Solution</h2> <p>Kent Tinseltooth wants help with his terminal.</p> <figure> <img src="/assets/img/elves/kent/1.jpg" /> <figcaption>Kent Terminal</figcaption> </figure> <p>Looks like there is an “inner voice”. And we need to block it out with an IPTables change.</p> <p>looking in the current directory, there is an MD file that has some information about the challenge</p> <figure> <img src="/assets/img/elves/kent/2.jpg" /> <figcaption>IOTteethBraces.md</figcaption> </figure> <p>It supports FTP, HTTP and SSH access. The requirement is to configure properly. The requirements to setup IP Tables is</p> <p>A proper configuration for the Smart Braces should be exactly:</p> <ol> <li>Set the default policies to DROP for the INPUT, FORWARD, and OUTPUT chains. sudo iptables -P FORWARD DROP sudo iptables -P INPUT DROP sudo iptables -P OUTPUT DROP</li> <li> <p>Create a rule to ACCEPT all connections that are ESTABLISHED,RELATED on the INPUT and the OUTPU T chains. sudo iptables -A INPUT,OUTPUT -m conntrack –ctstate ESTABLISHED,RELATED -j ACCEPT</p> </li> <li>Create a rule to ACCEPT only remote source IP address 172.19.0.225 to access the local SSH serv er (on port 22). <h1 id="that-ip-address-resolves-to-elfuiotbracesiptables_checkeriptablesnetwork">That IP address resolves to elfuiotbracesiptables_checker.iptablesnetwork</h1> <p>sudo iptables -A INPUT -p tcp –dport 22 -s 172.19.0.225 -j ACCEPT</p> </li> <li> <p>Create a rule to ACCEPT any source IP to the local TCP services on ports 21 and 80. sudo iptables -A INPUT -p tcp –dport 21,80 -j ACCEPT</p> </li> <li>Create a rule to ACCEPT all OUTPUT traffic with a destination TCP port of 80. sudo iptables -A OUTPUT -p tcp –dport 80 -j ACCEPT</li> <li>Create a rule applied to the INPUT chain to ACCEPT all traffic from the lo interface. iptables -A INPUT -o lo -j ACCEPT</li> </ol> <p>sudo iptables -A INPUT -m conntrack –ctstate RELATED,ESTABLISHED -j ACCEPT sudo iptables -A OUTPUT -m conntrack –ctstate RELATED,ESTABLISHED -j ACCEPT sudo iptables -P FORWARD DROP sudo iptables -P INPUT DROP sudo iptables -P OUTPUT DROP sudo iptables -A INPUT -p tcp –dport 22 -s 172.19.0.225 -j ACCEPT sudo iptables -A INPUT -p tcp -m multiport –dports 21,80 -j ACCEPT sudo iptables -A OUTPUT -p tcp –dport 80 -j ACCEPT sudo iptables -A INPUT -i lo -j ACCEPT</p> <p>It worked. It is hardened.</p> <figure> <img src="/assets/img/elves/kent/3.jpg" /> <figcaption>IOTteethBraces.md</figcaption> </figure> <p>Kent says that the “sleigh device” is being tested at srf.elfu.org with default creds</p> <p>Kent’s hint is to get into the crate in the Student Union</p> <h2>Terminal Success</h2> <figure> <img src="/assets/img/elves/kent/success.png"> <figcaption align=center>Terminal Success Message</figcaption> </figure> <h2>The Hint</h2> <figure> <img src="/assets/img/elves/kent/hint.png"> <figcaption align=center>The Elf Hint</figcaption> </figure> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#sample post" title="Pages tagged sample post" class="tag"><span class="term">sample post</span></a><a href="http://localhost:4000/tags/#readability" title="Pages tagged readability" class="tag"><span class="term">readability</span></a><a href="http://localhost:4000/tags/#test" title="Pages tagged test" class="tag"><span class="term">test</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/elves/kent/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/elves/kent/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/elves/kent/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
